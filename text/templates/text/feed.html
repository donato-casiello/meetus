{% extends "base/layout.html" %}
{% load static %}

{% block title %}Text feed{% endblock title %}

{% block content %}
<div id="header">
    <h1 id="feed-title">Chat</h1>
    <div id="btn-wrapper">
    <button id="leftChatBtn"><i class="fa-solid fa-xmark"></i></button>
    </div>
</div>
<div id="content">
        <div id="feed-wrapper">
            {% for message in messages %}
                <div class="message-wrapper" id="message-{{ message.id }}">
                        <p class="message-header">
                            <b>{{ message.name }}</b> 
                            <span id="timestamp">{{ message.timestamp|timesince }} ago</span>
                        </p>
                    <p id="message-body">{{ message.body }}</p>
                </div>
            {% endfor %}
        </div>
    

            <form action="" id="form">
                {% csrf_token %}
                <input type="text" name="body" placeholder="Message">
                <button type="submit">Send <i class="fa-regular fa-paper-plane"></i></button>
            </form>

</div>

<script type="text/javascript" src="{% static 'text/text.js' %}"></script>
<script type="text/javascript" src="{% static 'text/agora-rtm.js' %}"></script>

{% endblock content %}